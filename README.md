

# Cloudy

This project was generated using [Nx](https://nx.dev).

<p style="text-align: center;"><img src="https://raw.githubusercontent.com/nrwl/nx/master/images/nx-logo.png" width="450"></p>


<img src="https://i.imgur.com/W1sNY4d.png">

<img src="https://i.imgur.com/qbO8H6O.png">

ðŸ”Ž **Smart, Fast and Extensible Build System**

## Quick Start & Documentation

You must install [Docker](https://www.docker.com/products/docker-desktop/) & [docker-compose](https://docs.docker.com/compose/install/) to run monitoring and databases services
You will also need [npm](https://docs.npmjs.com/downloading-and-installing-node-js-and-npm)

- Install: `npm i`
- Run: `npm start`

> If you have any trouble during the install, do not hesitate to contact me on microsoft teams

You can also run each service individually by using the following commands:

- `docker-compose up -d`
- `nx serve api`
- `nx serve`


## Useful links

- Cloudy app frontend
  - http://localhost:4200
- Cloudy app backend
  - http://localhost:4000
- Minio admin interface (file storage service)
  - http://localhost:9001
- Grafana monitoring
  - http://localhost:3000
- Prometheus monitoring
  - http://localhost:9090


## Administration

A default admin access is generated by the backend service
If you need a normal user, you must create an account

```
email: admin@gmail.com
password: admin
```


You can access minio interface with these credentials:
```
username: minio
password: minio123
```

You can access grafana monitoring with:
```
username: admin
password: admin
````
You can ignore the password change

You can access mysql with:
```
username: root
password: root
```



## Setup grafana dashboard

Grafana is a web interface to see all monitored data by minio.
After logged in, you can follow the steps below to setup the minio dashboard:

- Configuration > Data Sources > Add data source > Select Prometheus
- URL: http://localhost:9090 > Access: Browser > Save & Test
- Dashboard > Browse > import > ID: 13502


## Build Mobile version of cloudy

> If you need ios mobile version, you will need macos environment with xcode installed
If you run android version, you need to install android studio

- First build the frontend project: `nx build client`
- Then generate the mobile compatibility: 
`nx generate @nxtend/capacitor:capacitor-project --project client`
- Add the compatibility wanted:
```
nx run client:add:ios
nx run client:add:android
```
- You can now start the app:
```
nx run client:open:ios
nx run client:open:android
```

## Build

Run `ng build my-app` to build the project. The build artifacts will be stored in the `dist/` directory. Use the `--prod` flag for a production build.

## Running unit tests

Run `ng test client` to execute the unit tests via [Jest](https://jestjs.io).

Run `nx affected:test` to execute the unit tests affected by a change.

## Running end-to-end tests

Run `ng e2e client` to execute the end-to-end tests via [Cypress](https://www.cypress.io).

Run `nx affected:e2e` to execute the end-to-end tests affected by a change.

## Understand your workspace

Run `nx graph` to see a diagram of the dependencies of your projects.

## Further help

Visit the [Nx Documentation](https://nx.dev/angular) to learn more.
